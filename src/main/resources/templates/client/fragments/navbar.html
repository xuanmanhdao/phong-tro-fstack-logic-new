<nav xmnls="http://www.w3.org/1999/xhtml"
     xmlns:th="http://www.thymeleaf.org"
     th:fragment="navbar"
     class="navbar navbar-default ">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target="#navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/"><img
          th:src="@{/client/assets/img/logo-fstack-version-2-300x75-version-2.png}" alt=""></a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse yamm" id="navigation">
      <div class="button navbar-right" id="login-button">
        <button class="navbar-btn nav-button wow bounceInRight login"
                onclick=" window.open('/login-register')" data-wow-delay="0.4s">Login
        </button>
      </div>
      <ul class="main-nav nav navbar-nav navbar-right" id="user-box" style="display: none">
        <li class="wow fadeInDown" data-wow-delay="0.4s">
          <a href="/leo/home">Quản lý tài khoản</a></li>
        <li class="dropdown ymm-sw" data-wow-delay="0.1s">
          <a id="user-name" href="javascript:void(0)" class="dropdown-toggle"
             data-toggle="dropdown"
             data-hover="dropdown" data-delay="200"><b class="caret"></b></a>
          <ul class="dropdown-menu navbar-nav">
            <li>
              <a href="javascript:void(0)" id="button-logout">Đăng xuất</a>
            </li>
          </ul>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
  <script>
    // Lấy thông tin đăng nhập từ sessionStorage
    let idUser = sessionStorage.getItem("idUser");
    if (idUser != null) {
      let userName = sessionStorage.getItem("fullNameUser");
      document.getElementById("login-button").style.display = "none";
      document.getElementById("user-box").style.display = "block";
      document.getElementById("user-name").innerHTML = userName;
    }

    const buttonLogout = document.getElementById('button-logout');

    buttonLogout.addEventListener('click', () => {
      console.log('Button clicked');
      sessionStorage.clear();
      window.location.href = '/logout';
    });
  </script>
</nav>